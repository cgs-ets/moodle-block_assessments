define(["jquery","core/log","core/ajax"],function(e,n,r){"use strict";return{init:function(s){var t;s?(t=e(".block_assessments .schedule").first()).length?t.on("click",".blocktoggle",function(e){e.preventDefault();var e=t.data("blocktoggle"),o=s;e="1"==e?0:1,n.debug("block_assessments: Setting toggle to "+e),rootel.data("blocktoggle",e),e=[{name:"block_assessments_blocktoggle",value:e,userid:o}],r.call([{methodname:"core_user_set_user_preferences",args:{preferences:e},done:function(e){console.log(e)}}])}):n.error("block_assessments: root element not found!"):n.error("block_assessments: userid not provided!")}}});