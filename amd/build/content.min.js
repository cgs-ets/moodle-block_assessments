define(["jquery","core/log","core/ajax"],function(e,r,l){"use strict";return{init:function(o){var n;r.debug("block_assessments: initializing"),o?(n=e(".block_assessments .root").first()).length?n.on("click",".block_assessments_toggle",function(e){e.preventDefault();e=n.attr("data-toggle");r.debug("block_assessments: Toggle currently "+e);var e="1"==e?0:1,s=o,t=n;r.debug("block_assessments: Setting toggle to "+e),t.attr("data-toggle",e+""),t=[{name:"block_assessments_toggle",value:e,userid:s}],l.call([{methodname:"core_user_set_user_preferences",args:{preferences:t},done:function(e){console.log(e)}}])}):r.error("block_assessments: root element not found!"):r.error("block_assessments: userid not provided!")}}});