define(["jquery","core/log","core/ajax"],function(e,a,r){"use strict";return{init:function(n){var o;a.debug("block_assessments: initializing"),n?(o=e(".block_assessments .root").first()).length?(o.on("click",".block_assessments_toggle",function(e){e.preventDefault();e=o.attr("data-toggle");a.debug("block_assessments: Toggle currently "+e);var e="1"==e?0:1,s=n,t=o;a.debug("block_assessments: Setting toggle to "+e),t.attr("data-toggle",e+""),t=[{name:"block_assessments_toggle",value:e,userid:s}],r.call([{methodname:"core_user_set_user_preferences",args:{preferences:t},done:function(e){console.log(e)}}])}),o.on("click",".btn-showpast",function(e){e.preventDefault(),1==o.data("showingpast")?(o.find('tr.assessment[data-eventorder="Past"]').hide(),o.data("showingpast",!1)):(o.find('tr.assessment[data-eventorder="Past"]').show(),o.data("showingpast",!0))})):a.error("block_assessments: root element not found!"):a.error("block_assessments: userid not provided!")}}});